<ion-header>
  <ion-toolbar>
    <ion-title>Registro de Usuario</ion-title> <!-- T√≠tulo de la p√°gina mostrado en la parte superior -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container"> <!-- Contenedor principal del formulario de registro -->
    
    <div class="image-container"> <!-- Contenedor para el logo o imagen de la plataforma -->
      <img src="assets/imagenes/logo.png.jpg" alt="Logo de la Plataforma" class="login-logo" /> <!-- Imagen del logo de la plataforma -->
    </div>
    
    <h1>Registro</h1> <!-- T√≠tulo principal de la pantalla de registro -->
    
    <!-- Formulario de registro, enlazado al FormGroup 'registroForm' en el archivo TS -->
    <form [formGroup]="registroForm" (submit)="onSubmit($event)" class="registro-form">
      
      <!-- Campo para ingresar el nombre del usuario -->
      <div class="input-group">
        <label for="nombre" class="form-label">Nombre:</label>
        <input
          type="text"
          id="nombre"
          formControlName="nombre" 
          placeholder="Ingrese su nombre"
          required
          class="form-control"
        />
        <small *ngIf="nombre?.hasError('required') && nombre?.touched" class="error-message">
          <!-- Mensaje de error si el campo est√° vac√≠o y se ha interactuado con √©l -->
          Por favor, ingrese su nombre.
        </small>
      </div>

      <!-- Campo para ingresar el apellido del usuario -->
      <div class="input-group">
        <label for="apellido" class="form-label">Apellido:</label>
        <input
          type="text"
          id="apellido"
          formControlName="apellido" 
          placeholder="Ingrese su apellido"
          required
          class="form-control"
        />
        <small *ngIf="apellido?.hasError('required') && apellido?.touched" class="error-message">
          Por favor, ingrese su apellido.
        </small>
      </div>

      <!-- Campo para ingresar el nombre de usuario -->
      <div class="input-group">
        <label for="usuario" class="form-label">Usuario:</label>
        <input
          type="text"
          id="usuario"
          formControlName="usuario" 
          placeholder="Ingrese su usuario"
          required
          class="form-control"
        />
        <small *ngIf="usuario?.hasError('required') && usuario?.touched" class="error-message">
          Por favor, ingrese su nombre de usuario.
        </small>
      </div>

      <!-- Campo para ingresar el correo electr√≥nico del usuario -->
      <div class="input-group">
        <label for="email" class="form-label">Correo electr√≥nico:</label>
        <input
          type="email"
          id="email"
          formControlName="email" 
          placeholder="nombre@gmail.com"
          required
          class="form-control"
        />
        <!-- Mensajes de error para el correo, cuando falta o tiene un patr√≥n incorrecto -->
        <small *ngIf="email?.hasError('required') && email?.touched" class="error-message">
          Por favor, ingrese su correo electr√≥nico.
        </small>
        <small *ngIf="email?.hasError('pattern') && email?.touched" class="error-message">
          Ingrese un correo v√°lido.
        </small>
      </div>

      <!-- Campo para ingresar la contrase√±a con opci√≥n de mostrar/ocultar -->
      <div class="input-group">
        <label for="password" class="form-label">Contrase√±a:</label>
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password" 
            placeholder="Ingrese su contrase√±a"
            required
            class="form-control"
          />
          <!-- Icono para mostrar/ocultar la contrase√±a -->
          <span
            class="password-toggle"
            (mousedown)="showPassword = true" 
            (mouseup)="showPassword = false" 
            (mouseleave)="showPassword = false"
            (touchstart)="showPassword = true" 
            (touchend)="showPassword = false"
            tabindex="0"
            role="button"
            aria-label="Mostrar contrase√±a"
          >
            üëÅÔ∏è
          </span>
        </div>
        <small *ngIf="password?.hasError('required') && password?.touched" class="error-message">
          Por favor, ingrese su contrase√±a.
        </small>
      </div>

      <!-- Campo para ingresar la fecha de nacimiento del usuario -->
      <div class="input-group">
        <label for="fechaNacimiento" class="form-label">Fecha de Nacimiento:</label>
        <input
          type="date"
          id="fechaNacimiento"
          formControlName="fechaNacimiento" 
          required
          class="form-control"
        />
        <small *ngIf="fechaNacimiento?.hasError('required') && fechaNacimiento?.touched" class="error-message">
          Por favor, ingrese su fecha de nacimiento.
        </small>
      </div>

      <!-- Campo para ingresar el n√∫mero de tel√©fono del usuario -->
      <div class="input-group">
        <label for="telefono" class="form-label">Tel√©fono:</label>
        <input
          type="tel"
          id="telefono"
          formControlName="telefono" 
          placeholder="Ingrese su n√∫mero de tel√©fono"
          required
          class="form-control"
        />
        <small *ngIf="telefono?.hasError('required') && telefono?.touched" class="error-message">
          Por favor, ingrese su n√∫mero de tel√©fono.
        </small>
      </div>

      <!-- Campo para ingresar la direcci√≥n del usuario -->
      <div class="input-group">
        <label for="direccion" class="form-label">Direcci√≥n:</label>
        <input
          type="text"
          id="direccion"
          formControlName="direccion"
          placeholder="Ingrese su direcci√≥n"
          required
          class="form-control"
        />
        <small *ngIf="direccion?.hasError('required') && direccion?.touched" class="error-message">
          Por favor, ingrese su direcci√≥n.
        </small>
      </div>

      <!-- Bot√≥n de env√≠o del formulario -->
      <button ion-button type="submit" expand="block" class="btn btn-custom">Registrarse</button>
    </form>
  </div>
</ion-content>
